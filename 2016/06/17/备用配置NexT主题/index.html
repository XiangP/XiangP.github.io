<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Xiang"><meta name="description" content="本文来自NexT主题配置文档。谢谢NexT主题的开发者。本文的目的是记录相关配置以备后用(记性不好)。Hexo可以使用标签插件快速的插入特定形式的内容。"><meta name="keywords" content="hexo,NexT"><title>备用 配置NexT主题 · Eric</title><link rel="icon" href="/favicon.ico"><link rel="canonical" href="http://yoursite.com/2016/06/17/备用配置NexT主题/"><link rel="alternate" href="/atom.xml" title="Eric"><link rel="stylesheet" href="/css/style.css"><script type="text/javascript">var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?Your baidu Analytics ID";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'Your Google Analytics ID', 'auto');
ga('send', 'pageview');</script></head><body><div id="main"><header><a href="/." class="logo">Eric</a><ul class="nav"><li class="nav-link"><a href="/" target="_self">Home</a></li><li class="nav-link"><a href="/archives/" target="_self">Archives</a></li><li class="nav-link"><a href="/categories/" target="_self">Categories</a></li><li class="nav-link"><a href="/tags/" target="_self">Tags</a></li><li class="nav-link"><a href="/about/" target="_self">About</a></li></ul></header><section id="container"><article class="post"><h1 class="post-title">备用 配置NexT主题</h1><span class="post-time">Jun 17, 2016</span><div id="sidebar" class="post-sidebar"><h3 class="heading">Contents</h3><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#安装NexT主题"><span class="toc-text">安装NexT主题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#主题设定"><span class="toc-text">主题设定</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#选择Scheme"><span class="toc-text">选择Scheme</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设置语言"><span class="toc-text">设置语言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设置-菜单"><span class="toc-text">设置 菜单</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设置-侧栏"><span class="toc-text">设置 侧栏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设置-头像"><span class="toc-text">设置 头像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设置-作者昵称"><span class="toc-text">设置 作者昵称</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#站点描述"><span class="toc-text">站点描述</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#集成第三方服务"><span class="toc-text">集成第三方服务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#多说评论"><span class="toc-text">多说评论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#百度统计"><span class="toc-text">百度统计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#阅读次数统计-LeanCloud"><span class="toc-text">阅读次数统计(LeanCloud)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#搜索服务"><span class="toc-text">搜索服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Local-Search"><span class="toc-text">Local Search</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MathJax服务"><span class="toc-text">MathJax服务</span></a></li></ol></div><div class="post-content"><p>本文来自<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="external">NexT主题配置文档</a>。</p>
<p>谢谢NexT主题的开发者。本文的目的是记录相关配置以备后用(记性不好)。</p>
<p>Hexo可以使用<a href="https://hexo.io/zh-cn/docs/tag-plugins.html" target="_blank" rel="external">标签插件</a>快速的插入特定形式的内容。<a id="more"></a></p>
<p>Hexo有两份配置文件，其名称都是<code>_config.yml</code>。其中，一份位于站点根目录，主要包含Hexo本身的配置；另一份位于主题目录下，由主题作者提供，并配置主题相关的选项。前一份称为<code>站点配置文件</code>，后一份称为<code>主题配置文件</code>。</p>
<p>配置文件均采用<code>#</code>作为注释符。</p>
<h1 id="安装NexT主题"><a href="#安装NexT主题" class="headerlink" title="安装NexT主题"></a>安装NexT主题</h1><hr>
<p>将主题拷贝到<code>theme</code>目录下，然后修改<code>站点配置文件</code>的<code>theme</code>选项。</p>
<p>更新主题：git bash—cd到theme文件夹—<code>git pull</code>即可。当然，这种方式适合主题安装采用<code>git clone</code>的方式将主题克隆到<code>theme</code>文件夹。</p>
<p>切换主题：更改<code>theme</code>选项以后，使用<code>hexo clean</code>清除hexo缓存，然后即可开启调试验证主题。</p>
<p>验证主题：使用<code>hexo s --debug</code>开启调试模式，观察是否存在异常信息。NexT默认Scheme是<code>Scheme -Muse</code>。</p>
<h1 id="主题设定"><a href="#主题设定" class="headerlink" title="主题设定"></a>主题设定</h1><hr>
<h2 id="选择Scheme"><a href="#选择Scheme" class="headerlink" title="选择Scheme"></a>选择Scheme</h2><p>Scheme是NexT提供的一种特性，并非其他主题都是如此。NexT借助Scheme提供三种不同的外观。同时，不同Scheme之间的切换是在<code>主题配置文件</code>中进行的。</p>
<ul>
<li>Muse - 默认Scheme</li>
<li>Mist - Muse的紧凑版本，整洁有序的单栏外观</li>
<li>Pisces - 双栏 Scheme，小家碧玉似的清新</li>
</ul>
<h2 id="设置语言"><a href="#设置语言" class="headerlink" title="设置语言"></a>设置语言</h2><p>编辑<code>站点配置文件</code>，将<code>language</code>设置成你所需要的语言，如简体中文。</p>
<blockquote>
<p>language: zh-Hans</p>
</blockquote>
<p>NexT支持：English(language: en)、简体中文(zh_Hans)、Francais(fr-FR)、Portugues(pt)、繁体中文(zh-hk or zh-tw)、日语(ja)等。</p>
<h2 id="设置-菜单"><a href="#设置-菜单" class="headerlink" title="设置 菜单"></a>设置 菜单</h2><p>菜单配置包括三部分，菜单项(名称和链接)、菜单项显示文本和菜单项对应的图标。NexT使用<a href="http://fontawesome.io/" target="_blank" rel="external">Font Awesome</a>图标。Font Awesome提供了600+的图标，基本满足大部分需求。</p>
<p>编辑<code>主题配置文件</code>，修改以下内容：</p>
<ol>
<li>设定菜单项</li>
</ol>
<p>对应的字段是<code>menu</code>，菜单内容的设置格式是：<code>item_name: link</code>，其中<code>item_name</code>是名称，用于匹配图标及翻译，而不显示。如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">    home: /</span><br><span class="line">    archives: /archives</span><br><span class="line">    #about: /about</span><br><span class="line">    #categories: /categories</span><br><span class="line">    tags: /tags</span><br><span class="line">    #commonweal: /404.html</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果站点运行在子目录，将链接前缀<code>/</code>去掉即可。</p>
</blockquote>
<p>NexT默认菜单项：</p>
<table>
<thead>
<tr>
<th>键值</th>
<th>设定值</th>
<th>显示文本(简体中文)</th>
</tr>
</thead>
<tbody>
<tr>
<td>home</td>
<td>home: /</td>
<td>主页</td>
</tr>
<tr>
<td>archives</td>
<td>archives: /archives</td>
<td>归档页</td>
</tr>
<tr>
<td>categories</td>
<td>categories: /categories</td>
<td>分类页(需要手动创建)</td>
</tr>
<tr>
<td>tags</td>
<td>tags: /tags</td>
<td>标签页(需要手动创建)</td>
</tr>
<tr>
<td>about</td>
<td>about: /about</td>
<td>关于页面(需要手动创建该页面)</td>
</tr>
<tr>
<td>commonweal</td>
<td>commonweal: /404.html</td>
<td>公益404(需要手动创建)</td>
</tr>
</tbody>
</table>
<ol>
<li>菜单项显示文本</li>
</ol>
<p>在第一步设置的菜单名称并不直接用于界面显示。Hexo在生成页面的时候使用这个名称去查找对应的语言翻译，并提取显示文本。这些翻译文本放置在NexT主题目录下的<code>languages/{language}.yml</code>(<code>{language}</code>是你所使用的语言)。</p>
<p>以简体中文为例，若要添加一个菜单项，如<code>python</code>，那么就需要修改简体中文对应的翻译文件<code>languages/zh-Hans.yml</code>，在<code>menu</code>字段下面添加一项：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">    home: 首页</span><br><span class="line">    archives: 归档</span><br><span class="line">    categories: 分类</span><br><span class="line">    tags: 标签</span><br><span class="line">    about: 关于</span><br><span class="line">    search: 搜索</span><br><span class="line">    commonweal: 公益404</span><br><span class="line">    python: python</span><br></pre></td></tr></table></figure>
<ol>
<li>设定菜单项图标</li>
</ol>
<p>对应的字段是<code>menu_icons</code>，设定格式<code>item_name: icon name</code>，其中<code>item_name</code>与上一步所配置的菜单名字对应，<code>icon name</code>是<code>Font Awesome</code>图标的名字，而<code>enable</code>可用于控制是否显示图标，你可以设置成<code>false</code>来去掉图标。例如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">menu_icons:</span><br><span class="line">    enable: true</span><br><span class="line">    # icon mapping</span><br><span class="line">    home: home</span><br><span class="line">    about: user</span><br><span class="line">    categories: th</span><br><span class="line">    tags: tags</span><br><span class="line">    archives: archive</span><br><span class="line">    commonweal: heartbeat</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在菜单图标开启的情况下，如果菜单项与菜单未匹配(没有设置或无效的Font Awesome图标名字)，NexT会显示问号。</p>
<p>注意大小写</p>
</blockquote>
<h2 id="设置-侧栏"><a href="#设置-侧栏" class="headerlink" title="设置 侧栏"></a>设置 侧栏</h2><p>默认情况下，侧栏显示在右侧，可以通过修改<code>主题配置文件</code>中的<code>sidebar</code>字段控制侧栏的位置和显示时机。</p>
<ol>
<li>设置侧栏位置</li>
</ol>
<p>修改<code>sidebar.position</code></p>
<ul>
<li>left-靠左放置</li>
<li>right- 靠右放置</li>
</ul>
<blockquote>
<p>5.0及以下版本<strong>仅仅</strong>Pisces Scheme支持<code>position</code>配置</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sidebar:</span><br><span class="line">    position: left</span><br></pre></td></tr></table></figure>
<ol>
<li>设置侧栏显示时机</li>
</ol>
<p>修改<code>sidebar.display</code></p>
<ul>
<li>post 默认，在文章页面(即目录)时显示</li>
<li>always 在所有页面显示</li>
<li>hide 在所有页面隐藏(但可以手动展开)</li>
<li>remove完全移除</li>
</ul>
<p>例如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sidebar:</span><br><span class="line">    display: post</span><br></pre></td></tr></table></figure>
<blockquote>
<p>5.0及以下版本在<code>use motion: false</code>的情况下不会展示。</p>
</blockquote>
<h2 id="设置-头像"><a href="#设置-头像" class="headerlink" title="设置 头像"></a>设置 头像</h2><p>编辑<code>站点配置文件</code>，新增字段<code>avatar</code>，值设置成头像的链接地址。其中，头像的链接地址可以是：</p>
<table>
<thead>
<tr>
<th>地址</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>互联网地址</td>
<td><a href="http://example.com/avatar.png" target="_blank" rel="external">http://example.com/avatar.png</a></td>
</tr>
<tr>
<td>站点内地址</td>
<td>将头像放置在主题目录下的<code>source/uploads/</code>(若不存在则新建uploads目录)配置为<code>avatar: /uploads/avatar.png</code>。或者 放置在<code>source/images/</code>目录下，配置为：<code>avatar: /images/avatar.png</code></td>
</tr>
</tbody>
</table>
<p>例如：</p>
<blockquote>
<p>avatar: <a href="http://.../avatar.png" target="_blank" rel="external">http://.../avatar.png</a></p>
</blockquote>
<h2 id="设置-作者昵称"><a href="#设置-作者昵称" class="headerlink" title="设置 作者昵称"></a>设置 作者昵称</h2><p>编辑<code>站点配置文件</code>，设置<code>author</code>为你的昵称。</p>
<h2 id="站点描述"><a href="#站点描述" class="headerlink" title="站点描述"></a>站点描述</h2><p>编辑<code>站点配置文件</code>，设置<code>description</code>字段为你的站点描述。站点描述可以是你喜欢的一句签名。</p>
<h1 id="集成第三方服务"><a href="#集成第三方服务" class="headerlink" title="集成第三方服务"></a>集成第三方服务</h1><hr>
<h2 id="多说评论"><a href="#多说评论" class="headerlink" title="多说评论"></a>多说评论</h2><p>多说评论…先暂且不用吧</p>
<h2 id="百度统计"><a href="#百度统计" class="headerlink" title="百度统计"></a>百度统计</h2><p>好像。。。先不用</p>
<h2 id="阅读次数统计-LeanCloud"><a href="#阅读次数统计-LeanCloud" class="headerlink" title="阅读次数统计(LeanCloud)"></a>阅读次数统计(LeanCloud)</h2><p>查看NexT文章<a href="https://notes.wanghao.work/2015-10-21-%E4%B8%BANexT%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8A%9F%E8%83%BD.html#%E9%85%8D%E7%BD%AELeanCloud" target="_blank" rel="external">阅读统计功能</a></p>
<h2 id="搜索服务"><a href="#搜索服务" class="headerlink" title="搜索服务"></a>搜索服务</h2><p>使用Swiftype之前需要前往Swiftype配置搜索引擎，然后在<code>站点配置文件</code>中，新增<code>swiftype_key</code>字段，值为你的swiftype搜索引擎的key。</p>
<p>NexT支持<a href="https://swiftype.com/" target="_blank" rel="external">Swiftype</a>和<a href="http://tinysou.com/" target="_blank" rel="external">微搜索</a>，以及local search</p>
<p>但是Swiftype现在收费了，而且好贵。。。</p>
<p>微搜索打不开。。。</p>
<h2 id="Local-Search"><a href="#Local-Search" class="headerlink" title="Local Search"></a>Local Search</h2><p>添加百度/谷歌/本地 自定义站点内容搜索</p>
<ol>
<li>安装<code>hexo-generator-search</code>，在站点根目录下执行以下命令</li>
</ol>
<blockquote>
<p>cnpm install hexo-generator-search –save</p>
</blockquote>
<ol>
<li>编辑<code>站点配置文件</code>，新增以下内容：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">    path: search.xml</span><br><span class="line">    field: post</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="MathJax服务"><a href="#MathJax服务" class="headerlink" title="MathJax服务"></a>MathJax服务</h1><p>NexT 使用MathJax显示数学公式，此选项默认关闭。</p>
<p>5.00及以前版本：编辑<code>主题配置文件</code>，将<code>mathjax</code>设定为<code>true</code>即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#mathjax support</span><br><span class="line">mathjax: true</span><br></pre></td></tr></table></figure>
<p>5.0.1及以上版本：编辑<code>主题配置文件</code>，将<code>mathjax</code>下的<code>enable</code>设定为<code>true</code>即可。<code>cdn</code>用于指定mathjax的脚本地址，默认是mathjax官方提供的CDN地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Mathjax support</span><br><span class="line">mathjax:</span><br><span class="line">    enable: true</span><br><span class="line">    cdn: //cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML</span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$f(a)=\frac&#123;1&#125;&#123;2\pi&#125;$</span><br><span class="line">$E=mc^2$</span><br></pre></td></tr></table></figure>
<p>$E=mc^2$</p>
<p>that’s all</p>
</div></article><div class="tags"><a href="/tags/hexo/">hexo</a><a href="/tags/NexT/">NexT</a></div><div class="paginator"><a id="prev" href="/2016/06/17/latex_math/" data-title="Latex Math" class="prev"><i class="iconfont icon-left"></i><span>Prev</span></a><a id="next" href="/2016/06/17/latex-skill/" data-title="Latex 技巧" class="next"><span>Next</span><i class="iconfont icon-right"></i></a></div><section id="comments"><div id="disqus_thread"></div></section><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'http://yoursite.com/2016/06/17/备用配置NexT主题/';
    this.page.identifier = '2016/06/17/备用配置NexT主题/';
    this.page.title = '备用 配置NexT主题';
};
(function() {
var d = document, s = d.createElement('script');

s.src = '//Your disqus ID.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();</script></section><footer><div class="social"><a href="mailto:xiangpan2011@163.com" title="email" class="iconfont icon-email"></a><a href="/atom.xml" title="rss" class="iconfont icon-rss"></a></div><div class="copyright"><p class="power">Powered by <a href="https://hexo.io/">Hexo</a> and Theme by <a href="https://github.com/ahonn/hexo-theme-even"> Even</a></p><p class="since">&copy;2016<span class="heart"><i class="iconfont icon-heart"></i></span><span class="author">Xiang</span></p></div><div id="back2top"><i class="iconfont icon-up"></i></div></footer></div><script src="/js/zepto.min.js"></script><script src="/js/theme.js"></script></body></html>